<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MyFi ‚Äì Organize Contacts</title>

<style>
    body {
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
        background: #fafafa;
        color: #111;
    }

    /* Add Button */
    .add-button {
        width: 60px;
        height: 60px;
        background: #0051ff;
        border-radius: 18px;
        position: fixed;
        right: 20px;
    bottom: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 36px;
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(0, 81, 255, 0.3);
        z-index: 100;
    }

    .container {
        padding: 20px;
        padding-top: 90px;
        max-width: 450px;
        margin: auto;
    }

    /* MAIN CONTACT PLACEHOLDER CARD */
    .main-card {
        
        border-radius: 26px;
        padding: 25px;
        border: 2px solid #111;
        margin-bottom: 25px;
    }

    .contact-name {
        font-size: 27px;
        font-weight: 700;
        margin-bottom: 8px;
    }

    .contact-tag {
        display: inline-block;
        padding: 8px 14px;
        font-size: 14px;
        background: #e6e6e6;
        border-radius: 12px;
        margin-bottom: 20px;
        font-weight: 500;
    }

    .contact-detail {
        font-size: 15px;
        margin-bottom: 6px;
    }

    /* Buttons */
    .actions {
        margin-top: 20px;
        display: flex;
        gap: 12px;
    }

    .btn {
        flex: 1;
        padding: 14px 0;
        border-radius: 14px;
        border: none;
        cursor: pointer;
        font-size: 15px;
        font-weight: 600;
    }

    .btn-call { background: #10b981; color: white; }
    .btn-msg { background: #0051ff; color: white; }

    /* Logic Card */
    .logic-card {
        background: white;
        padding: 20px;
        border-radius: 22px;
        border-left: 6px solid #0051ff;
        margin-bottom: 25px;
        box-shadow: 0 4px 14px rgba(0,0,0,0.05);
    }

    .logic-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 6px;
    }

    .logic-text {
        font-size: 14px;
        line-height: 1.5;
    }

    /* TAG SHORTCUTS */
    .tag-grid {
        margin-top: 15px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 14px;
    }

    .tag-tile {
        background: #ffffff;
        padding: 20px;
        border-radius: 20px;
        border: 2px solid #dedede;
        text-align: center;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.2s ease;
    }

    .tag-tile:hover { background: #f2f2f2; }

    /* MODAL BASE */
    .modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.45);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 200;
    }

    .modal {
        background: #fff;
        padding: 25px;
        border-radius: 18px;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }

    .modal-title {
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 18px;
    }

    .modal-btn {
        width: 100%;
        padding: 14px 0;
        background: #0051ff;
        color: white;
        border-radius: 12px;
        font-size: 16px;
        margin-bottom: 12px;
        cursor: pointer;
    }

    .modal-btn.secondary {
        background: #e5e7eb;
        color: #111;
    }

    /* Custom Contact Inputs */
    .input-field {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 12px;
        margin-bottom: 12px;
        font-size: 15px;
    }


    .contacts-count-card {
    background: white;
    border-radius: 24px;
    padding: 22px;
    border: 2px solid #111;
    text-align: center;
    margin-bottom: 25px;
}

.count-number {
    font-size: 40px;
    font-weight: 800;
    margin-bottom: 6px;
}

.count-label {
    font-size: 15px;
    font-weight: 500;
    color: #444;
            }

</style>
</head>

<body>

<!-- ADD BUTTON -->
<div class="add-button" id="openAdd">+</div>


    
    

    

    <!-- SEARCH BAR -->
<div class="search-container" style="
    width: 100%;
    margin: 20px 0 20px 0;
    display: flex;
    justify-content: center;
">
    <input 
        type="text" 
        id="contactSearchInput" 
        placeholder="Search contacts..." 
        style="
            width: 85%;
            padding: 16px 20px;
            font-size: 16px;
            border-radius: 18px;
            border: 1.5px solid #dcdcdc;
            outline: none;
            background: #fafafa;
            transition: 0.25s ease;
            color: #111;
        "
    >
</div>

<style>
.search-container input::placeholder {
    color: #aaa;
}

.search-container input:focus {
    border-color: #0051ff;
    background: white;
    box-shadow: 0 4px 14px rgba(0, 81, 255, 0.15);
}
</style>

<div class="container">

    <!-- MAIN CARD -->
    <div class="main-card">
        <div class="contact-name"></div>
        <div class="contact-tag"></div>

        <div class="contact-detail"></div>
        <div class="contact-detail"></div>



        
    <!-- Add Edit Button Here -->
    <button id="editContactBtn" style="
        background: white;
        color: #111;
        border: 2px solid #111;
        border-radius: 12px;
        padding: 10px 20px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        margin-top: 15px;
        width: 100%;
        transition: 0.2s;
    " onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='white'">
        ‚úèÔ∏è Edit Contact
    </button>

        


<!-- Add this inside .main-card, before the .actions div -->
<div style="
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 15px 0;
    padding: 10px 0;
    border-top: 1px solid #e6e6e6;
    border-bottom: 1px solid #e6e6e6;
">
    <button id="prevContactBtn" style="
        background: transparent;
        border: 2px solid #111;
        border-radius: 12px;
        width: 45px;
        height: 45px;
        font-size: 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    ">
        ‚Üê
    </button>
    
    <span id="contactPosition" style="
        font-size: 14px;
        font-weight: 600;
        color: #666;
    ">
        1 of 1
    </span>
    
    <button id="nextContactBtn" style="
        background: transparent;
        border: 2px solid #111;
        border-radius: 12px;
        width: 45px;
        height: 45px;
        font-size: 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    ">
        ‚Üí
    </button>
</div>


        

        

        <div class="actions">
            <button class="btn btn-call">Call</button>
            <button class="btn btn-msg">Message</button>
        </div>
    </div>

    <!-- LOGIC -->
    <div class="logic-card">
        <div class="logic-title">Logic</div>
        <div class="logic-text">
            You haven‚Äôt called <b>Sarah</b> in 2 days.<br>
            She is active in the mornings.<br>
            Consider giving her a quick check-in.
        </div>

        
        <a href="/logic" style="text-decoration:none;">
    <button 
        style="
            background:#0051ff;
            color:white;
            border:none;
            padding:14px 22px;
            border-radius:12px;
            font-size:16px;
            font-weight:600;
            cursor:pointer;
            width:100%;
            box-shadow:0 6px 14px rgba(0,81,255,0.25);
        "
    >
        Chat with Logic
    </button>
        </a>
        
    
    </div>



    <div id="contactsStatsCard" class="contacts-card" style="
        background:#ffffff;
        color:#111;
        padding:26px 20px;
        border:2px solid #000;
        border-radius:24px;
        margin:25px auto;
        font-family:'Poppins', sans-serif;
        width:85%;
        max-width:360px;
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
        text-align:center;
    ">

        <div id="contactsCountNumber" style="
            font-size:42px;
            font-weight:800;
            color:#0051ff;
            line-height:1;
            margin-bottom:6px;
        ">
            0
        </div>

        <div style="
            font-size:18px;
            font-weight:500;
            color:#111;
        ">
            Contacts
        </div>

    </div>



    


    <!-- TAGS -->
    <div class="tag-grid">
        <div class="tag-tile">Family</div>
        <div class="tag-tile">Work</div>
        <div class="tag-tile">Friends</div>
        <div class="tag-tile">Relationship</div>
    </div>

</div>


<!-- ========================== -->
<!-- FIRST MODAL (Choose Method) -->
<!-- ========================== -->

<div class="modal-overlay" id="modalOptions">
    <div class="modal">
        <div class="modal-title">Add Contact</div>


        
        <div>
    <!-- This is the REAL file input -->
    <input type="file" id="contactsFileInput" accept=".csv,.vcf" style="display:none" />

    <!-- This is your visible button -->
    <button class="modal-btn" id="uploadBtn">Upload Contacts File</button>

    <div id="status"></div>
        </div>





        
        <button class="modal-btn secondary" id="chooseCustom">
            Add Custom Contact
        </button>

        <button class="modal-btn secondary" onclick="closeModals()">Cancel</button>
    </div>
</div>

<!-- ========================== -->
<!-- CUSTOM CONTACT FORM MODAL -->
<!-- ========================== -->

<div class="modal-overlay" id="modalCustom">
    <div class="modal">
        <div class="modal-title">New Contact</div>

        <input class="input-field" placeholder="Full Name" id="cName">
        <input class="input-field" placeholder="Phone Number" id="cPhone">
        <input class="input-field" placeholder="Email (optional)" id="cEmail">

        <select class="input-field" id="cTag">
            <option value="">Tag</option>
            <option value="Family">Family</option>
            <option value="Friends">Friends</option>
            <option value="Work">Work</option>
            <option value="Relationship">Relationship</option>
        </select>

        <textarea class="input-field" placeholder="Notes (optional)" id="cNotes"></textarea>

        <button class="modal-btn" onclick="saveContact()">Save Contact</button>
        <button class="modal-btn secondary" onclick="closeModals()">Cancel</button>
    </div>
</div>




<!-- ========================== -->
<!-- EDIT CONTACT MODAL -->
<!-- ========================== -->

<div class="modal-overlay" id="modalEdit">
    <div class="modal" style="max-width: 450px;">
        <div class="modal-title">Edit Contact</div>

        <input class="input-field" placeholder="Full Name" id="editName">
        <input class="input-field" placeholder="Phone Number" id="editPhone">
        <input class="input-field" placeholder="Email" id="editEmail">

        <select class="input-field" id="editTag">
            <option value="Family">Family</option>
            <option value="Friends">Friends</option>
            <option value="Work">Work</option>
            <option value="Relationship">Relationship</option>
            <option value="Riders">Riders</option>
            <option value="Favorite">Favorite</option>
            <option value="General">General</option>
        </select>

        <textarea class="input-field" placeholder="Notes (optional)" id="editNotes" rows="4"></textarea>

        <!-- Action Buttons -->
        <button class="modal-btn" onclick="saveContactEdits()">Save Changes</button>
        
        <button class="modal-btn" style="background: white; color: #111; border: 2px solid #111;" onclick="closeEditModal()">
            Cancel
        </button>

        <!-- Delete Button (Danger Zone) -->
        <button class="modal-btn" style="background: #ff4444; margin-top: 20px;" onclick="deleteContact()">
            üóëÔ∏è Delete Contact
        </button>
    </div>
</div>


    




    <script>
    const modalOptions = document.getElementById("modalOptions");
    const modalCustom = document.getElementById("modalCustom");

    // Open first modal when + button is clicked
    document.getElementById("openAdd").onclick = () => {
        modalOptions.style.display = "flex";
    };

    // Close all modals
    function closeModals() {
        modalOptions.style.display = "none";
        modalCustom.style.display = "none";
    }

    // Show custom contact form modal
    document.getElementById("chooseCustom").onclick = () => {
        modalOptions.style.display = "none";
        modalCustom.style.display = "flex";
    };
    </script>


 <!--   
<script>
    const modalOptions = document.getElementById("modalOptions");
    const modalCustom = document.getElementById("modalCustom");

    document.getElementById("openAdd").onclick = () => {
        modalOptions.style.display = "flex";
    };

    function closeModals() {
        modalOptions.style.display = "none";
        modalCustom.style.display = "none";
    }

    document.getElementById("chooseFile").onclick = () => {
        closeModals();
        alert("Trigger file upload ‚Äî backend will handle CSV import.");
    };

    document.getElementById("chooseCustom").onclick = () => {
        modalOptions.style.display = "none";
        modalCustom.style.display = "flex";
    };

    /* I've moved this funtion to addCustomaContacts.js and it will standalone. If any issue is experienced n Add Custom Contact, then this is the funtion to look at.

    
    function saveContact() {
        alert("This data will be sent to backend:\n\n" +
              "Name: " + cName.value +
              "\nPhone: " + cPhone.value +
              "\nEmail: " + cEmail.value +
              "\nTag: " + cTag.value +
              "\nNotes: " + cNotes.value);

        closeModals();
    }
    */
</script>

-->

    <script src="/static/js/contactsDisplay.js"></script>


<script src="/static/js/contactsFile.js"></script>
    <script src="/static/js/addCustomContactBtn.js"></script>

    <script src="/static/js/editContact.js"></script>
    


    
    


<!-- Database loading -->
<script src="/static/js/contactsLoader.js"></script>

<!-- Logic AI integration -->
<script src="/static/js/logicIntegration.js"></script>

<!-- Feature-specific scripts -->
<script src="/static/js/uploadContactsFile.js"></script>


</body>
</html>